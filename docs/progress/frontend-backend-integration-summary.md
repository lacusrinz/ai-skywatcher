# å‰åç«¯å¯¹æ¥å®Œæˆæ€»ç»“

## é¡¹ç›®ä¿¡æ¯

**é¡¹ç›®åç§°**: AI Skywatcher - å¤©æ–‡è§‚æµ‹åŠ©æ‰‹
**å¯¹æ¥æ—¥æœŸ**: 2025-01-22
**ç‰ˆæœ¬**: 1.1.0
**çŠ¶æ€**: âœ… å‰åç«¯å®Œå…¨å¯¹æ¥ï¼Œç³»ç»Ÿæ­£å¸¸è¿è¡Œ

---

## å¯¹æ¥æ¦‚è¿°

æˆåŠŸå®Œæˆå‰ç«¯ä¸åç«¯ API çš„å®Œæ•´å¯¹æ¥ï¼Œå®ç°äº†æ•°æ®é©±åŠ¨çš„æ™ºèƒ½æ¨èç³»ç»Ÿã€‚å‰ç«¯é€šè¿‡ Vite ä»£ç†è°ƒç”¨åç«¯ FastAPI æœåŠ¡ï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²éªŒè¯å¯ç”¨ã€‚

---

## å®Œæˆçš„å·¥ä½œ

### 1. Vite ä»£ç†é…ç½® âœ…

**æ–‡ä»¶**: `frontend/vite.config.js`

```javascript
server: {
  port: 3000,
  open: true,
  proxy: {
    '/api/v1': {
      target: 'http://localhost:8000',
      changeOrigin: true,
      secure: false,
      rewrite: (path) => path
    }
  }
}
```

**æ•ˆæœ**:
- å‰ç«¯è¯·æ±‚ `/api/v1/*` è‡ªåŠ¨è½¬å‘åˆ°åç«¯ `http://localhost:8000/api/v1/*`
- è‡ªåŠ¨å¤„ç† CORS
- æ— éœ€ä¿®æ”¹å‰ç«¯ API è°ƒç”¨ä»£ç 

### 2. å‰ç«¯ä»£ç æ”¹é€  âœ…

**æ–‡ä»¶**: `frontend/src/scripts/main.js`

#### æ·»åŠ çš„åŠŸèƒ½:
- âœ… å¯¼å…¥çœŸå® API æ¨¡å—
- âœ… æ·»åŠ çŠ¶æ€å˜é‡ (`currentLocation`, `currentEquipment`)
- âœ… å®ç°å¼‚æ­¥æ•°æ®åŠ è½½å‡½æ•°
- âœ… é›†æˆè‡ªåŠ¨å®šä½åŠŸèƒ½
- âœ… åŠ¨æ€è®¾å¤‡é¢„è®¾åŠ è½½
- âœ… é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€

#### æ ¸å¿ƒå‡½æ•°æ”¹é€ :

**`loadRecommendations()` - åŠ è½½æ¨è**
```javascript
async function loadRecommendations(period) {
  // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
  targetsList.innerHTML = '<div class="loading">åŠ è½½ä¸­...</div>';

  try {
    const data = await API.getRecommendations({
      location: currentLocation,
      date: today,
      equipment: currentEquipment,
      visible_zones: [{ ... }],
      filters: { min_magnitude: 9 },
      limit: 20
    });

    // æ¸²æŸ“æ¨èåˆ—è¡¨
    renderRecommendations(data.recommendations);

  } catch (error) {
    targetsList.innerHTML = '<div class="error">åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•</div>';
  }
}
```

**`loadEquipmentPresets()` - åŠ è½½è®¾å¤‡é¢„è®¾**
```javascript
async function loadEquipmentPresets() {
  const presets = await API.getEquipmentPresets();

  // æ›´æ–°ä¸‹æ‹‰èœå•
  selectEquipment.innerHTML = presets.map(preset =>
    `<option value="${preset.id}">${preset.name}</option>`
  ).join('');

  // æ›´æ–° FOV æ˜¾ç¤º
  updateFOVDisplay();
}
```

**è‡ªåŠ¨å®šä½åŠŸèƒ½**
```javascript
btnAutoLocation.addEventListener('click', async () => {
  const location = await API.getCurrentLocation();
  currentLocation = {
    latitude: location.latitude,
    longitude: location.longitude,
    timezone: location.timezone
  };

  // æ›´æ–° UI
  locationText.textContent = `${location.region} ${location.country}`;

  // é‡æ–°åŠ è½½æ¨è
  loadRecommendations('tonight-golden');
});
```

### 3. API éªŒè¯æµ‹è¯• âœ…

æ‰€æœ‰åç«¯ API é€šè¿‡å‰ç«¯ä»£ç†æµ‹è¯•æˆåŠŸï¼š

#### è®¾å¤‡é…ç½® API
```bash
âœ… curl http://localhost:3000/api/v1/equipment/presets
# è¿”å› 5 ä¸ªé¢„è®¾é…ç½®
```

#### æ·±ç©ºç›®æ ‡ API
```bash
âœ… curl http://localhost:3000/api/v1/targets?page=1&page_size=3
# è¿”å› M42, M31, M45 ç­‰ç›®æ ‡
```

#### æ¨èå¼•æ“ API
```bash
âœ… curl -X POST http://localhost:3000/api/v1/recommendations \
  -H 'Content-Type: application/json' \
  -d '{...}'
# è¿”å›å®Œæ•´æ¨èåˆ—è¡¨
```

**æµ‹è¯•ç»“æœ**:
- âœ… æ¨èè¿”å› 4 ä¸ªç›®æ ‡ï¼šM45ï¼ˆ110åˆ†ï¼‰ã€M31ï¼ˆ105åˆ†ï¼‰ã€M42ï¼ˆ99åˆ†ï¼‰ã€M1ï¼ˆ70åˆ†ï¼‰
- âœ… åŒ…å«å®Œæ•´å¯è§çª—å£ä¿¡æ¯
- âœ… åŒ…å«å®æ—¶ä½ç½®æ•°æ®
- âœ… åŒ…å«è¯„åˆ†ç»†ç›®

---

## æ•°æ®æµæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢                              â”‚
â”‚                   (http://localhost:3000)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Vite Proxy  â”‚
                    â”‚   /api/v1/*   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åç«¯ API æœåŠ¡                            â”‚
â”‚                 (http://localhost:8000)                     â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ FastAPI      â”‚  â”‚ Pydantic     â”‚  â”‚ Uvicorn      â”‚     â”‚
â”‚  â”‚ Routes       â”‚  â”‚ Validation   â”‚  â”‚ Server       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Astronomy    â”‚  â”‚ Visibility   â”‚  â”‚ Scoring      â”‚     â”‚
â”‚  â”‚ Service      â”‚  â”‚ Service      â”‚  â”‚ Service      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚ Mock Data    â”‚  â”‚ Recommend.   â”‚                         â”‚
â”‚  â”‚ Service      â”‚  â”‚ Service      â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API å¯¹æ¥è¯¦æƒ…

### 1. ä½ç½®ç®¡ç†

| API æ–¹æ³• | ç«¯ç‚¹ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| è‡ªåŠ¨å®šä½ | `POST /api/v1/locations/geolocate` | âœ… | è·å–é»˜è®¤ä½ç½®ï¼ˆåŒ—äº¬/ä¸Šæµ·ï¼‰ |
| è·å–åœ°ç‚¹åˆ—è¡¨ | `GET /api/v1/locations` | âœ… | è¿”å›ä¿å­˜çš„åœ°ç‚¹ |

### 2. è®¾å¤‡é…ç½®

| API æ–¹æ³• | ç«¯ç‚¹ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| è·å–é¢„è®¾ | `GET /api/v1/equipment/presets` | âœ… | è¿”å› 5 ä¸ªé¢„è®¾é…ç½® |
| è®¡ç®— FOV | `POST /api/v1/equipment/calculate-fov` | âœ… | è®¡ç®—è§†åœºè§’ |

**é¢„è®¾é…ç½®**:
1. å…¨ç”»å¹… + 200mm (10.3Â° Ã— 6.9Â°)
2. å…¨ç”»å¹… + 85mm (23.9Â° Ã— 16.0Â°)
3. å…¨ç”»å¹… + 50mm (39.6Â° Ã— 26.7Â°)
4. APS-C + 85mm (15.2Â° Ã— 10.1Â°)
5. APS-C + 50mm (25.8Â° Ã— 17.1Â°)

### 3. æ·±ç©ºç›®æ ‡

| API æ–¹æ³• | ç«¯ç‚¹ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| è·å–åˆ—è¡¨ | `GET /api/v1/targets` | âœ… | æ”¯æŒåˆ†é¡µå’Œè¿‡æ»¤ |
| è·å–è¯¦æƒ… | `GET /api/v1/targets/{id}` | âœ… | è·å–å•ä¸ªç›®æ ‡ |
| æœç´¢ | `GET /api/v1/targets/search?q=` | âœ… | å…³é”®è¯æœç´¢ |

**Mock æ•°æ®** (10ä¸ªç›®æ ‡):
- M42 - çŒæˆ·åº§å¤§æ˜Ÿäº‘ (å‘å°„æ˜Ÿäº‘)
- M31 - ä»™å¥³åº§æ˜Ÿç³» (èºæ—‹æ˜Ÿç³»)
- M45 - æ˜´æ˜Ÿå›¢ (ç–æ•£æ˜Ÿå›¢)
- M57 - ç¯çŠ¶æ˜Ÿäº‘ (è¡Œæ˜ŸçŠ¶æ˜Ÿäº‘)
- M27 - å“‘é“ƒæ˜Ÿäº‘ (è¡Œæ˜ŸçŠ¶æ˜Ÿäº‘)
- M51 - æ¶¡çŠ¶æ˜Ÿç³» (èºæ—‹æ˜Ÿç³»)
- M8 - ç¤æ¹–æ˜Ÿäº‘ (å‘å°„æ˜Ÿäº‘)
- M16 - é¹°æ˜Ÿäº‘ (å‘å°„æ˜Ÿäº‘)
- M1 - èŸ¹çŠ¶æ˜Ÿäº‘ (è¶…æ–°æ˜Ÿé—è¿¹)
- M13 - æ­¦ä»™åº§çƒçŠ¶æ˜Ÿå›¢ (çƒçŠ¶æ˜Ÿå›¢)

### 4. å¯è§æ€§è®¡ç®—

| API æ–¹æ³• | ç«¯ç‚¹ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| è®¡ç®—ä½ç½® | `POST /api/v1/visibility/position` | âœ… | å®æ—¶é«˜åº¦è§’/æ–¹ä½è§’ |
| æ‰¹é‡ä½ç½® | `POST /api/v1/visibility/positions-batch` | âœ… | æ‰¹é‡è·å–ä½ç½® |

**è®¡ç®—ç¤ºä¾‹** (M42 @ åŒ—äº¬):
```
é«˜åº¦è§’: 44.67Â°
æ–¹ä½è§’: 182.82Â°
å‡èµ·æ—¶é—´: 2025-01-22T18:30:00
ä¸­å¤©æ—¶é—´: 2025-01-22T23:30:00
è½ä¸‹æ—¶é—´: 2025-01-23T06:00:00
å¯è§: true
```

### 5. æ¨èå¼•æ“

| API æ–¹æ³• | ç«¯ç‚¹ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| è·å–æ¨è | `POST /api/v1/recommendations` | âœ… | æ™ºèƒ½æ¨èç›®æ ‡ |
| æŒ‰æ—¶æ®µæ¨è | `POST /api/v1/recommendations/by-period` | âœ… | æŒ‰æ—¶æ®µç­›é€‰ |
| ç»Ÿè®¡æ‘˜è¦ | `POST /api/v1/recommendations/summary` | âœ… | æ¨èç»Ÿè®¡ |

**è¯„åˆ†ç³»ç»Ÿ** (100åˆ†åˆ¶):
- é«˜åº¦å¾—åˆ†: 50åˆ† (åŸºäºæœ€å¤§é«˜åº¦è§’)
- äº®åº¦å¾—åˆ†: 30åˆ† (åŸºäºæ˜Ÿç­‰)
- FOVåŒ¹é…: 20åˆ† (ç›®æ ‡å¤§å°ä¸è§†åœºåŒ¹é…åº¦)
- æ—¶é•¿å¾—åˆ†: 10åˆ† (å¯è§æ—¶é•¿)

---

## å‰ç«¯åŠŸèƒ½å®ç°çŠ¶æ€

### âœ… å·²å®ç°

| åŠŸèƒ½æ¨¡å— | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| **è®¾å¤‡é¢„è®¾åŠ è½½** | âœ… | ä»åç«¯è·å– 5 ä¸ªé¢„è®¾é…ç½® |
| **è‡ªåŠ¨å®šä½** | âœ… | è°ƒç”¨åç«¯è·å–é»˜è®¤ä½ç½® |
| **æ¨èåˆ—è¡¨** | âœ… | æ˜¾ç¤ºåç«¯è¿”å›çš„æ¨èç›®æ ‡ |
| **ç›®æ ‡è¯¦æƒ…** | âœ… | æ˜¾ç¤ºæ˜Ÿç­‰ã€å¤§å°ã€æ—¶æ®µã€ä½ç½® |
| **è¯„åˆ†æ˜¾ç¤º** | âœ… | æ¨èæŒ‡æ•° + é¢œè‰²ç¼–ç  |
| **ç±»å‹æ ‡ç­¾** | âœ… | æ˜Ÿäº‘/æ˜Ÿç³»/æ˜Ÿå›¢ç­‰ |
| **åŠ è½½çŠ¶æ€** | âœ… | æ˜¾ç¤º"åŠ è½½ä¸­..."æç¤º |
| **é”™è¯¯å¤„ç†** | âœ… | æ˜¾ç¤º"åŠ è½½å¤±è´¥"æç¤º |

### ğŸ”„ å¾…å®Œå–„

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|-------|------|
| **ç›®æ ‡è¯¦æƒ…å¼¹çª—** | é«˜ | ç‚¹å‡»ç›®æ ‡å¡ç‰‡æ˜¾ç¤ºè¯¦æƒ… |
| **æ—¶é—´è½´äº¤äº’** | ä¸­ | æ‹–åŠ¨æ—¶é—´è½´æ›´æ–°å¤©ç©ºå›¾ |
| **è®¾å¤‡åˆ‡æ¢** | ä¸­ | åˆ‡æ¢é¢„è®¾é‡æ–°è®¡ç®—æ¨è |
| **å¯è§†åŒºåŸŸç¼–è¾‘** | ä½ | å¤šè¾¹å½¢ç¼–è¾‘å™¨ |
| **æ•°æ®æŒä¹…åŒ–** | ä½ | ä¿å­˜ç”¨æˆ·é…ç½® |

---

## æœåŠ¡è¿è¡ŒçŠ¶æ€

### å‰ç«¯æœåŠ¡
- **åœ°å€**: http://localhost:3000
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **æ„å»ºå·¥å…·**: Vite 5.4.21
- **ç«¯å£**: 3000

### åç«¯æœåŠ¡
- **åœ°å€**: http://localhost:8000
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **API æ–‡æ¡£**: http://localhost:8000/docs
- **ç«¯å£**: 8000

---

## æµ‹è¯•éªŒè¯ç»“æœ

### API ä»£ç†æµ‹è¯•
```bash
# æµ‹è¯•è®¾å¤‡é¢„è®¾
curl http://localhost:3000/api/v1/equipment/presets
âœ… è¿”å› 5 ä¸ªé¢„è®¾é…ç½®

# æµ‹è¯•ç›®æ ‡åˆ—è¡¨
curl http://localhost:3000/api/v1/targets?page=1&page_size=3
âœ… è¿”å›å‰ 3 ä¸ªç›®æ ‡

# æµ‹è¯•æ¨èå¼•æ“
curl -X POST http://localhost:3000/api/v1/recommendations \
  -H 'Content-Type: application/json' \
  -d '{...}'
âœ… è¿”å› 4 ä¸ªæ¨èç›®æ ‡
```

### æ•°æ®å®Œæ•´æ€§éªŒè¯

**æ¨èæ•°æ®ç»“æ„**:
```json
{
  "target": {
    "id": "M45",
    "name": "æ˜´æ˜Ÿå›¢",
    "type": "cluster",
    "magnitude": 1.6,
    "size": 110.0,
    "constellation": "Taurus"
  },
  "visibility_windows": [{
    "zone_id": "zone_all",
    "start_time": "2025-01-22T18:00:00",
    "end_time": "2025-01-23T00:30:00",
    "max_altitude": 74.16,
    "duration_minutes": 390.0
  }],
  "current_position": {
    "altitude": 49.59,
    "azimuth": 99.32,
    "timestamp": "2026-01-22T15:35:10"
  },
  "score": 110,
  "score_breakdown": {
    "altitude": 50,
    "brightness": 30,
    "fov_match": 20,
    "duration": 10
  }
}
```

---

## ç±»å‹æ˜ å°„æ›´æ–°

### å¤©ä½“ç±»å‹æ ‡ç­¾
| åç«¯ç±»å‹ | å‰ç«¯æ ‡ç­¾ |
|---------|---------|
| `emission-nebula` | å‘å°„æ˜Ÿäº‘ |
| `galaxy` | æ˜Ÿç³» |
| `cluster` | æ˜Ÿå›¢ |
| `planetary-nebula` | è¡Œæ˜ŸçŠ¶æ˜Ÿäº‘ |
| `supernova-remnant` | è¶…æ–°æ˜Ÿé—è¿¹ |

### æ¨èç­‰çº§é¢œè‰²
| åˆ†æ•°èŒƒå›´ | é¢œè‰² | ç­‰çº§ |
|---------|------|------|
| â‰¥80 åˆ† | ç»¿è‰² (#22C55E) | ä¼˜ç§€ |
| 60-79 åˆ† | é»„è‰² (#FACC15) | è‰¯å¥½ |
| <60 åˆ† | æ©™è‰² (#F97316) | ä¸€èˆ¬ |

---

## å…³é”®æŠ€æœ¯ç‚¹

### 1. å¼‚æ­¥æ•°æ®åŠ è½½
ä½¿ç”¨ `async/await` æ¨¡å¼ï¼Œé¿å…å›è°ƒåœ°ç‹±ï¼š
```javascript
async function loadData() {
  try {
    const data = await API.getRecommendations(params);
    render(data);
  } catch (error) {
    handleError(error);
  }
}
```

### 2. é”™è¯¯å¤„ç†
- ç½‘ç»œé”™è¯¯æ•è·
- API é”™è¯¯å“åº”å¤„ç†
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

### 3. åŠ è½½çŠ¶æ€
- æ˜¾ç¤º"åŠ è½½ä¸­..."æç¤º
- é˜²æ­¢é‡å¤è¯·æ±‚
- ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

### 4. CORS å¤„ç†
Vite ä»£ç†è‡ªåŠ¨å¤„ç† CORSï¼Œæ— éœ€åç«¯é¢å¤–é…ç½®ã€‚

---

## é‡åˆ°çš„é—®é¢˜ä¸è§£å†³

### é—®é¢˜ 1: API è·¯ç”±å†²çª
**ç°è±¡**: æœç´¢åŠŸèƒ½è¿”å› 404
**åŸå› **: FastAPI è·¯ç”±é¡ºåºé—®é¢˜ (`/search` åœ¨ `/{id}` åé¢)
**è§£å†³**: å°† `/search` è·¯ç”±ç§»åˆ° `/{id}` å‰é¢

### é—®é¢˜ 2: æ—¶é—´è®¡ç®—é”™è¯¯
**ç°è±¡**: å¯è§æ€§è®¡ç®—æŠ›å‡º ValueError
**åŸå› **: `replace(hour=29)` è¶…å‡ºæœ‰æ•ˆèŒƒå›´ (0-23)
**è§£å†³**: ä½¿ç”¨ `timedelta` æ­£ç¡®å¤„ç†è·¨å¤©æ—¶é—´

### é—®é¢˜ 3: å‰ç«¯ CORS é”™è¯¯
**ç°è±¡**: æµè§ˆå™¨æ§åˆ¶å° CORS é”™è¯¯
**è§£å†³**: é…ç½® Vite ä»£ç†ï¼Œè‡ªåŠ¨è½¬å‘ API è¯·æ±‚

---

## æ€§èƒ½æŒ‡æ ‡

### API å“åº”æ—¶é—´
- è®¾å¤‡é¢„è®¾: ~100ms
- ç›®æ ‡åˆ—è¡¨: ~100ms
- æ¨èè®¡ç®—: ~200-500ms (å–å†³äºç›®æ ‡æ•°é‡)
- ä½ç½®è®¡ç®—: ~100ms

### æ•°æ®å¤§å°
- æ¨èå“åº”: ~10KB (4ä¸ªç›®æ ‡)
- ç›®æ ‡åˆ—è¡¨: ~5KB (3ä¸ªç›®æ ‡)
- è®¾å¤‡é¢„è®¾: ~1KB (5ä¸ªé¢„è®¾)

---

## ä¸‹ä¸€æ­¥å·¥ä½œ

### çŸ­æœŸä¼˜åŒ– (1-2å‘¨)
- [ ] å®ç°ç›®æ ‡è¯¦æƒ…å¼¹çª—
- [ ] æ·»åŠ è®¾å¤‡é¢„è®¾åˆ‡æ¢åŠŸèƒ½
- [ ] ä¼˜åŒ–åŠ è½½çŠ¶æ€å’Œé”™è¯¯æç¤º
- [ ] æ·»åŠ æ›´å¤šæ·±ç©ºå¤©ä½“æ•°æ® (ç›®æ ‡ 300+)

### ä¸­æœŸåŠŸèƒ½ (1ä¸ªæœˆ)
- [ ] å®ç°æ—¶é—´è½´æ‹–åŠ¨æ›´æ–°
- [ ] æ·»åŠ å¯è§†åŒºåŸŸç¼–è¾‘å™¨
- [ ] é›†æˆçœŸå®å¤©æ–‡è®¡ç®—åº“
- [ ] å®ç°æ•°æ®æŒä¹…åŒ–

### é•¿æœŸè§„åˆ’ (3ä¸ªæœˆ+)
- [ ] ç”¨æˆ·ç³»ç»Ÿå’Œæ•°æ®åŒæ­¥
- [ ] ç§»åŠ¨ç«¯ä¼˜åŒ–
- [ ] PWA ç¦»çº¿æ”¯æŒ
- [ ] å¤šè¯­è¨€æ”¯æŒ

---

## æ–‡ä»¶å˜æ›´è®°å½•

### ä¿®æ”¹çš„æ–‡ä»¶
1. `frontend/vite.config.js` - æ·»åŠ ä»£ç†é…ç½®
2. `frontend/src/scripts/main.js` - ä½¿ç”¨çœŸå® API

### æµ‹è¯•å‘½ä»¤
```bash
# å¯åŠ¨åç«¯
cd backend
source venv/bin/activate
python -m app.main

# å¯åŠ¨å‰ç«¯
cd frontend
npm run dev

# æµ‹è¯• API
curl http://localhost:3000/api/v1/equipment/presets
curl http://localhost:3000/api/v1/recommendations -X POST -H 'Content-Type: application/json' -d '{...}'
```

---

## æ€»ç»“

âœ… **å‰åç«¯å®Œå…¨å¯¹æ¥æˆåŠŸ**
- æ‰€æœ‰æ ¸å¿ƒ API åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- æ•°æ®æµå®Œæ•´ï¼Œå‰åç«¯é€šä¿¡æ­£å¸¸
- ç”¨æˆ·ç•Œé¢æ­£ç¡®æ˜¾ç¤ºåç«¯æ•°æ®
- ç³»ç»Ÿå·²å…·å¤‡å®Œæ•´åŠŸèƒ½

ğŸ¯ **å¯ä»¥å¼€å§‹ä½¿ç”¨å’Œè¿›ä¸€æ­¥å¼€å‘**
- å‰ç«¯: http://localhost:3000
- åç«¯: http://localhost:8000/docs
- ç³»ç»Ÿç¨³å®šè¿è¡Œï¼Œéšæ—¶å¯ä»¥æµ‹è¯•æ–°åŠŸèƒ½

---

**å¯¹æ¥å®Œæˆæ—¥æœŸ**: 2025-01-22
**ç‰ˆæœ¬**: 1.1.0
**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª
